<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><title>ListS3</title><link rel="stylesheet" href="/nifi-docs/css/component-usage.css" type="text/css"></link></head><script type="text/javascript">window.onload = function(){if(self==top) { document.getElementById('nameHeader').style.display = "inherit"; } }</script><body><h1 id="nameHeader" style="display: none;">ListS3</h1><h2>Description: </h2><p>Retrieves a listing of objects from an S3 bucket. For each object that is listed, creates a FlowFile that represents the object so that it can be fetched in conjunction with FetchS3Object. This Processor is designed to run on Primary Node only in a cluster. If the primary node changes, the new Primary Node will pick up where the previous node left off without duplicating all of the data.</p><h3>Tags: </h3><p>Amazon, S3, AWS, list</p><h3>Properties: </h3><p>In the list below, the names of required properties appear in <strong>bold</strong>. Any other properties (not in bold) are considered optional. The table also indicates any default values, whether a property supports the <a href="/nifi-docs/html/expression-language-guide.html">NiFi Expression Language</a>, and whether a property is considered "sensitive", meaning that its value will be encrypted. Before entering a value in a sensitive property, ensure that the <strong>nifi.properties</strong> file has an entry for the property <strong>nifi.sensitive.props.key</strong>.</p><table id="properties"><tr><th>Name</th><th>Default Value</th><th>Allowable Values</th><th>Description</th></tr><tr><td id="name"><strong>Bucket</strong></td><td id="default-value"></td><td id="allowable-values"></td><td id="description">No Description Provided.<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name"><strong>Region</strong></td><td id="default-value">us-west-2</td><td id="allowable-values"><ul><li>us-gov-west-1 <img src="/nifi-docs/html/images/iconInfo.png" alt="us-gov-west-1" title="us-gov-west-1"></img></li><li>us-east-1 <img src="/nifi-docs/html/images/iconInfo.png" alt="us-east-1" title="us-east-1"></img></li><li>us-east-2 <img src="/nifi-docs/html/images/iconInfo.png" alt="us-east-2" title="us-east-2"></img></li><li>us-west-1 <img src="/nifi-docs/html/images/iconInfo.png" alt="us-west-1" title="us-west-1"></img></li><li>us-west-2 <img src="/nifi-docs/html/images/iconInfo.png" alt="us-west-2" title="us-west-2"></img></li><li>eu-west-1 <img src="/nifi-docs/html/images/iconInfo.png" alt="eu-west-1" title="eu-west-1"></img></li><li>eu-west-2 <img src="/nifi-docs/html/images/iconInfo.png" alt="eu-west-2" title="eu-west-2"></img></li><li>eu-central-1 <img src="/nifi-docs/html/images/iconInfo.png" alt="eu-central-1" title="eu-central-1"></img></li><li>ap-south-1 <img src="/nifi-docs/html/images/iconInfo.png" alt="ap-south-1" title="ap-south-1"></img></li><li>ap-southeast-1 <img src="/nifi-docs/html/images/iconInfo.png" alt="ap-southeast-1" title="ap-southeast-1"></img></li><li>ap-southeast-2 <img src="/nifi-docs/html/images/iconInfo.png" alt="ap-southeast-2" title="ap-southeast-2"></img></li><li>ap-northeast-1 <img src="/nifi-docs/html/images/iconInfo.png" alt="ap-northeast-1" title="ap-northeast-1"></img></li><li>ap-northeast-2 <img src="/nifi-docs/html/images/iconInfo.png" alt="ap-northeast-2" title="ap-northeast-2"></img></li><li>sa-east-1 <img src="/nifi-docs/html/images/iconInfo.png" alt="sa-east-1" title="sa-east-1"></img></li><li>cn-north-1 <img src="/nifi-docs/html/images/iconInfo.png" alt="cn-north-1" title="cn-north-1"></img></li><li>ca-central-1 <img src="/nifi-docs/html/images/iconInfo.png" alt="ca-central-1" title="ca-central-1"></img></li></ul></td><td id="description">No Description Provided.</td></tr><tr><td id="name">Access Key</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">No Description Provided.<br/><strong>Sensitive Property: true</strong><br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name">Secret Key</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">No Description Provided.<br/><strong>Sensitive Property: true</strong><br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name">Credentials File</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Path to a file containing AWS access key and secret key in properties file format.</td></tr><tr><td id="name">AWS Credentials Provider service</td><td id="default-value"></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>AWSCredentialsProviderService<br/><strong>Implementation:</strong><a href="/nifi-docs/components/org.apache.nifi/nifi-aws-nar/1.3.0/org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService/index.html">AWSCredentialsProviderControllerService</a></td><td id="description">The Controller Service that is used to obtain aws credentials provider</td></tr><tr><td id="name"><strong>Communications Timeout</strong></td><td id="default-value">30 secs</td><td id="allowable-values"></td><td id="description">No Description Provided.</td></tr><tr><td id="name">SSL Context Service</td><td id="default-value"></td><td id="allowable-values"><strong>Controller Service API: </strong><br/>SSLContextService<br/><strong>Implementation:</strong><a href="/nifi-docs/components/org.apache.nifi/nifi-ssl-context-service-nar/1.3.0/org.apache.nifi.ssl.StandardSSLContextService/index.html">StandardSSLContextService</a></td><td id="description">Specifies an optional SSL Context Service that, if provided, will be used to create connections</td></tr><tr><td id="name">Endpoint Override URL</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Endpoint URL to use instead of the AWS default including scheme, host, port, and path. The AWS libraries select an endpoint URL based on the AWS region, but this property overrides the selected endpoint URL, allowing use with other S3-compatible endpoints.<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name">Signer Override</td><td id="default-value">Default Signature</td><td id="allowable-values"><ul><li>Default Signature</li><li>Signature v4</li><li>Signature v2</li></ul></td><td id="description">The AWS libraries use the default signer but this property allows you to specify a custom signer to support older S3-compatible services.</td></tr><tr><td id="name">Proxy Host</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Proxy host name or IP<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name">Proxy Host Port</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">Proxy host port<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name">Delimiter</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The string used to delimit directories within the bucket. Please consult the AWS documentation for the correct use of this field.</td></tr><tr><td id="name">Prefix</td><td id="default-value"></td><td id="allowable-values"></td><td id="description">The prefix used to filter the object list. In most cases, it should end with a forward slash ('/').<br/><strong>Supports Expression Language: true</strong></td></tr><tr><td id="name"><strong>Use Versions</strong></td><td id="default-value">false</td><td id="allowable-values"><ul><li>true</li><li>false</li></ul></td><td id="description">Specifies whether to use S3 versions, if applicable.  If false, only the latest version of each object will be returned.</td></tr></table><h3>Relationships: </h3><table id="relationships"><tr><th>Name</th><th>Description</th></tr><tr><td>success</td><td>FlowFiles are routed to success relationship</td></tr></table><h3>Reads Attributes: </h3>None specified.<h3>Writes Attributes: </h3><table id="writes-attributes"><tr><th>Name</th><th>Description</th></tr><tr><td>s3.bucket</td><td>The name of the S3 bucket</td></tr><tr><td>filename</td><td>The name of the file</td></tr><tr><td>s3.etag</td><td>The ETag that can be used to see if the file has changed</td></tr><tr><td>s3.isLatest</td><td>A boolean indicating if this is the latest version of the object</td></tr><tr><td>s3.lastModified</td><td>The last modified time in milliseconds since epoch in UTC time</td></tr><tr><td>s3.length</td><td>The size of the object in bytes</td></tr><tr><td>s3.storeClass</td><td>The storage class of the object</td></tr><tr><td>s3.version</td><td>The version of the object, if applicable</td></tr></table><h3>State management: </h3><table id="stateful"><tr><th>Scope</th><th>Description</th></tr><tr><td>CLUSTER</td><td>After performing a listing of keys, the timestamp of the newest key is stored, along with the keys that share that same timestamp. This allows the Processor to list only keys that have been added or modified after this date the next time that the Processor is run. State is stored across the cluster so that this Processor can be run on Primary Node only and if a new Primary Node is selected, the new node can pick up where the previous node left off, without duplicating the data.</td></tr></table><h3>Restricted: </h3>This component is not restricted.<h3>Input requirement: </h3>This component does not allow an incoming relationship.<h3>See Also:</h3><p><a href="/nifi-docs/components/org.apache.nifi/nifi-aws-nar/1.3.0/org.apache.nifi.processors.aws.s3.FetchS3Object/index.html">FetchS3Object</a>, <a href="/nifi-docs/components/org.apache.nifi/nifi-aws-nar/1.3.0/org.apache.nifi.processors.aws.s3.PutS3Object/index.html">PutS3Object</a>, <a href="/nifi-docs/components/org.apache.nifi/nifi-aws-nar/1.3.0/org.apache.nifi.processors.aws.s3.DeleteS3Object/index.html">DeleteS3Object</a></p></body></html>